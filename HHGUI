local p = game:GetService("Players").LocalPlayer
local pg = p:WaitForChild("PlayerGui")

local s = Instance.new("ScreenGui")
s.Name = "HHGUI"
s.ResetOnSpawn = false
s.Parent = pg

local f = Instance.new("Frame", s)
f.Size = UDim2.new(0, 260, 0, 150)
f.Position = UDim2.new(0, 20, 0, 60)
f.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
f.Active = true
f.Draggable = true
Instance.new("UICorner", f).CornerRadius = UDim.new(0, 8)

local i = Instance.new("ImageLabel", f)
i.Size = UDim2.new(1, -180, 0, 80)
i.Position = UDim2.new(0, 200, 0, -35)
i.BackgroundTransparency = 1
i.Image = "rbxassetid://121523454509020"

local t = Instance.new("TextLabel", f)
t.Size = UDim2.new(1, -65, 0, 28)
t.Position = UDim2.new(0, 8, 0, 8)
t.BackgroundTransparency = 1
t.Text = "HHGUI v1.19"
t.TextColor3 = Color3.new(1,1,1)
t.TextXAlignment = Enum.TextXAlignment.Left
t.Font = Enum.Font.SourceSansBold
t.TextScaled = true

local content = Instance.new("Frame", f)
content.Size = UDim2.new(1, 0, 1, -40)
content.Position = UDim2.new(0, 0, 0, 36)
content.BackgroundTransparency = 1

local function makeLbl(parent, txt, y)
	local l = Instance.new("TextLabel", parent)
	l.Size = UDim2.new(0, 120, 0, 22)
	l.Position = UDim2.new(0, 8, 0, y)
	l.BackgroundTransparency = 1
	l.Text = txt
	l.TextColor3 = Color3.new(1,1,1)
	l.TextXAlignment = Enum.TextXAlignment.Left
	l.Font = Enum.Font.SourceSans
	l.TextSize = 16
	return l
end

local function makeBox(parent, y)
	local b = Instance.new("TextBox", parent)
	b.Size = UDim2.new(0, 120, 0, 22)
	b.Position = UDim2.new(0, 132, 0, y)
	b.PlaceholderText = "Value"
	b.Font = Enum.Font.SourceSans
	b.TextSize = 16
	b.Text = ""
	b.TextColor3 = Color3.new(0,0,0)
	b.BackgroundColor3 = Color3.fromRGB(255,255,255)
	Instance.new("UICorner", b).CornerRadius = UDim.new(0, 4)
	return b
end

makeLbl(content, "WalkSpeed:", 8)
local ws = makeBox(content, 8)
makeLbl(content, "JumpPower:", 36)
local jp = makeBox(content, 36)

local apply = Instance.new("TextButton", content)
apply.Size = UDim2.new(0, 120, 0, 28)
apply.Position = UDim2.new(0, 8, 0, 72)
apply.Text = "Apply"
apply.Font = Enum.Font.SourceSansBold
apply.TextSize = 18
apply.BackgroundColor3 = Color3.fromRGB(0,255,0)
Instance.new("UICorner", apply).CornerRadius = UDim.new(0, 4)

local sa = Instance.new("Sound", apply)
sa.SoundId = "rbxassetid://1673280232"

local reset = Instance.new("TextButton", content)
reset.Size = UDim2.new(0, 120, 0, 28)
reset.Position = UDim2.new(0, 132, 0, 72)
reset.Text = "Reset"
reset.Font = Enum.Font.SourceSansBold
reset.TextSize = 18
reset.BackgroundColor3 = Color3.fromRGB(255,0,0)
Instance.new("UICorner", reset).CornerRadius = UDim.new(0, 4)

local sr = Instance.new("Sound", reset)
sr.SoundId = "rbxassetid://1673280232"

local hum
local ow, oj

local function upd()
	if not hum then return end
	ws.PlaceholderText = tostring(hum.WalkSpeed)
	jp.PlaceholderText = tostring(hum.JumpPower)
end

local function applyVals()
	if not hum then return end
	local w = tonumber(ws.Text)
	local j = tonumber(jp.Text)
	if w then hum.WalkSpeed = math.clamp(w, 1, 1000) end
	if j then hum.JumpPower = math.clamp(j, 1, 1000) end
	upd()
end

local function resetVals()
	if hum then hum.WalkSpeed = ow hum.JumpPower = oj upd() end
end

local function onChar(c)
	hum = c:WaitForChild("Humanoid", 5)
	if hum then ow, oj = hum.WalkSpeed, hum.JumpPower upd() end
end

if p.Character then onChar(p.Character) end
p.CharacterAdded:Connect(onChar)
apply.MouseButton1Click:Connect(function()
    sa:Play()
    applyVals()
end)

reset.MouseButton1Click:Connect(function()
    sr:Play()
    resetVals()
end)

local UIS = game:GetService("UserInputService")
UIS.InputBegan:Connect(function(i, g)
	if g then return end
	if i.KeyCode == Enum.KeyCode.G and (UIS:IsKeyDown(Enum.KeyCode.LeftControl) or UIS:IsKeyDown(Enum.KeyCode.RightControl)) then
		f.Visible = not f.Visible
	end
end)
